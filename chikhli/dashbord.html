<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Police Station Info</title>
    <link rel="stylesheet" href="./header.css" />
    <!-- Bootstrap 4 CDN -->
    <link
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <!-- Google Icons CDN -->
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet"
    />

    <style>
      /* Custom styling */
      .header-container {
        position: relative;
        padding: 20px;
      }

      .header-title {
        font-size: 1.2rem;
      }

      h1,
      h4 {
        text-align: center;
        font-weight: bold;
      }

      .subheading {
        margin-bottom: 20px;
        color: #333;
      }

      .custom-table th,
      .custom-table td {
        text-align: center;
      }


      .card {
        border-radius: 10px;
        /* margin-right: 5rem !important; */
      }

      

      .card-header h5 {
        margin: 0;
      }

      .card-header small {
        font-weight: normal;
      }
        input{
          height: 30px !important;
        }
        select{
          height: 50px;
        }
      .card-body {
        display: flex;
      }

      .card-body img {
        margin-right: 20px;
      }
      .card-form{
        width: 8;
      }
      
      .left_img{
        width: 100%;
        height: 100%;
      }
      @media only screen and (max-width: 600px) {
            .img-section {
                display: none !important;
        }
        .form-section {
        /* border-radius: 10px; */
        margin-left: 2rem !important;
      }
      #policeStationName{
        font-size: 16px !important;
        font-weight: bold;
      }
      .header-container{
        height: 5rem;
        margin-top: -1rem;
        padding:0  ;
      }
      .card-header{
        padding-bottom: 0;
      }
      .table td, .table th{
        padding: 0;
      }
    }
    @media only screen and (max-width: 600px) {
            .left,.right{
                display: none !important;
            }
        }

      .card-body p {
        margin: 5px 0;
        font-weight: bold;
      }

      .btn-primary {
        background-color: #007bff;
        border-color: #007bff;
        border-radius: 0.5rem;
      }

      .btn-primary:hover {
        background-color: #0056b3;
        border-color: #004085;
      }
    </style>
  </head>

  <body>
    <!-- Header Section -->
    <header class="header-container bg-primary">
      <div class="container-fluid p-3">
        <div class="row align-items-center">
          <!-- Left side: Government logo and title -->
          <div class="col-md-4 d-flex align-items-center left">
            <img src="../img/gov_logo.png" alt="Govt Logo" class="govt-logo" />
            <div>
              <div class="header-title text-white">महाराष्ट्र शासन</div>
              <div class="header-title text-white">
                Government of Maharashtra
              </div>
            </div>
          </div>

          <!-- Center: District title -->
          <div class="col-md-4 text-center center">
            <div class="header-title font-weight-bold text-white">
              जिल्हा बुलढाणा 
            </div>
            <div class="header-title font-weight-bold text-white">
           (चिखली पोलिस)
            </div>
          </div>

          <!-- Right side: Icons and language option -->
          <div class="col-md-4 text-right right-icons right">
            <img
              src="../img/police_logo.png"
              alt="Govt Logo"
              class="police-logo ms-5"
            />
          </div>
        </div>
      </div>
    </header>

    <!-- Main Content -->
    <div class="container">
      <!-- <h1 class="mt-4">चिखली  पोलिस  स्टेशन </h1> -->
      <h4 class="subheading mt-4">तैनात संख्या बळ: 23</h4>

      <!-- Table Section -->
      <div class="table-container">
        <table class="table table-bordered custom-table">
          <thead>
            <tr class="bg-primary text-white">
              <th>अधिकारी </th>
              <th>अंमलदार</th>
              <th>महिला अंमलदार </th>
              <th>संख्या </th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>3</td>
              <td>34</td>
              <td>8</td>
              <td>44</td>
            </tr>
          </tbody>
        </table>
      </div>

   </div>
      <!-- Form Section -->
      <div class="container mt-5">
        <div class="row w-100">
            <div class="col-md-6 img-section">
                <img src="../img/police_logo.png" alt="" class="left_img border rounded bg-primary">
            </div>
            <div class="card card-form col-md-6 p-4 shadow-sm form-section">
                <div class="card-header bg-primary text-white text-center">
                    <h3 id="policeStationName">अधिकाऱ्याची माहिती </h3>
                </div>
                <div class="card-body">
                    <form id="officerForm" >
                        <div class="row">
                            <div class="form-group col-md-6">
                                <label for="postName" class="font-weight-bold">पदाचे नाव</label>
                                <select id="postName" class="form-control bg-primary text-white" name="postName">
                                    <option selected>Choose...</option>
                                    <option>अपर पोलीस अधिक्षक </option>
                                    <option>उप-अधिक्षक </option>
                                    <option>पोलीस निरीक्षक </option>
                                    <option>सपोनि </option>
                                    <option>पोउपनि  </option>
                                    <option>पोलीस अंमलदार  </option>
                                    <option>महिला पोलीस अंमलदार  </option>
                                    <option>होमगार्ड </option>
                                </select>
                            </div>
                            <div class="form-group col-md-6">
                                <label for="name" class="font-weight-bold">अधिकाऱ्याचे नाव</label>
                                <input type="text" class="form-control form-control-lg bg-light" id="name" name="name" placeholder="Enter Name">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group col-md-6">
                                <label for="mobileNumber" class="font-weight-bold">मोबाईल नंबर:</label>
                                <input type="text" class="form-control form-control-lg bg-light" id="mobileNumber" name="mobileNumber" placeholder="Enter Mobile Number">
                            </div>
                            <div class="form-group col-md-6">
                                <label for="bno" class="font-weight-bold">बी. एन.</label>
                                <input type="text" class="form-control form-control-lg bg-light" id="bno" name="bno" placeholder="Enter B.NO.">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group col-md-6">
                                <label for="gender" class="font-weight-bold">लिंग </label>
                                <select id="gender" class="form-control  bg-primary text-white" name="gender">
                                    <option selected>Choose...</option>
                                    <option>Male</option>
                                    <option>Female</option>
                                </select>
                            </div>
                           
                        </div>
    
                        <!-- Hidden input to hold police station name -->
                        <input type="hidden" id="policeStation" name="police_station">
    
                        <button type="submit" class="btn btn-lg btn-primary btn-block">Save</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <script>
      document.getElementById('officerForm').addEventListener('submit', function(event) {
          event.preventDefault();

          const formData = {
            postName: document.getElementById('postName').value,
            name: document.getElementById('name').value,
            mobileNumber: document.getElementById('mobileNumber').value,
            bno: document.getElementById('bno').value,
            gender: document.getElementById('gender').value,
          };

          fetch('https://script.google.com/macros/s/AKfycbyvOQcDSguADiyN5XM2SwvOrrkgr1_DfOlnUrIXtXOYAIvIr3NV60JqDzEyLvApQ7mneA/exec', {
              method: 'POST',
              contentType: 'application/json',
              body: JSON.stringify(formData)
          })
          .then(response => response.text())
          .then(result => {
              alert('Form submitted successfully!');
              document.getElementById('officerForm').reset();
          })
          .catch(error => {
              alert('Error submitting form: ' + error);
          });
      });
  </script>
   
      <!-- Card Section -->
      <div class="container mt-5">
  <div class="center">
    <button id="showDataBtn" class="btn btn-primary mt-3" onclick="fetchData()">Show All Requirements</button>
    <div id="loading" class="mt-3 " style="display: none;">
        <div class="spinner"></div>
        <div class="message mt-2">Please wait...</div>
    </div>
</div>
     
        <div id="cards-container" class="mt-4 row">
            <!-- Cards will be dynamically added here -->
        </div>
       
        </div>
          <script>
    async function fetchData() {
        const button = document.getElementById("showDataBtn");
        const loading = document.getElementById("loading");

        button.style.display = "none";
        loading.style.display = "block";

        fetch("https://script.google.com/macros/s/AKfycbyvOQcDSguADiyN5XM2SwvOrrkgr1_DfOlnUrIXtXOYAIvIr3NV60JqDzEyLvApQ7mneA/exec")
            .then(response => response.json())
            .then(data => {
                const container = document.getElementById("cards-container");
                container.innerHTML = ""; // Clear existing cards

                data.forEach(item => {
                    const card = document.createElement("div");
                    card.className = "col-md-6 mb-3";

                    card.innerHTML = `
                        <div class="card shadow-sm">
                            <div class="card-header d-flex justify-content-between align-items-center bg-primary text-white">
                                <div>
                                    <h5 class="mb-0">${item.name}</h5>
                                    <small>${item.postName}</small>
                                </div>
                                <div>
                                    <span class="material-icons" style="cursor: pointer">edit</span>
                                    <span class="material-icons" style="cursor: pointer">delete</span>
                                </div>
                            </div>
                            <div class="card-body d-flex">
                                <img
                                    src="https://e7.pngegg.com/pngimages/10/942/png-clipart-computer-icons-government-miscellaneous-police-officer-thumbnail.png"
                                    alt="Officer Image"
                                    class="img-fluid rounded-circle"
                                    style="width: 100px; height: 100px"
                                />
                                <div>
                                    <p><strong>मोबाईल नंबर:</strong> ${item.mobileNumber}</p>
                                    <p><strong>बी. एन.:</strong> ${item.bno}</p>
                                    <p><strong>लिंग :</strong> ${item.gender}</p>
                                </div>
                            </div>
                        </div>
                    `;

                    container.appendChild(card);
                });

                loading.style.display = "none";
            })
            .catch(error => {
                console.error("Error fetching data:", error);
                loading.style.display = "none";
                button.style.display = "block";
            });
    }

    document.getElementById("showDataBtn").addEventListener("click", fetchData);
</script>

          



    <!-- Bootstrap JS, Popper.js, and jQuery -->
    <script
      src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
      integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/popper.js@1.14.3/dist/umd/popper.min.js"
      integrity="sha384-ZMP7rVo3mIykV+K+2bP9hFhCUa8rQvT9ub5lDQL1qTcIiS5d2Q73D+QG2tZnnGm9"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"
      integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
